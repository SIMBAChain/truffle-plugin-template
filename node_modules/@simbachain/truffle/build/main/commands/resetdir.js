"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.resetDir = exports.handler = exports.builder = exports.describe = exports.command = void 0;
const web3_suites_1 = require("@simbachain/web3-suites");
const chalk_1 = __importDefault(require("chalk"));
exports.command = 'resetdir';
exports.describe = 'reset default path to directory for "build", "artifact", "artifacts", "contract", or "contracts"';
exports.builder = {
    'dirname': {
        'string': true,
        'type': 'string',
        'choices': ["build", "contract", "contracts", "artifact", "artifacts", "all"],
        'describe': 'name of the directory to reset directory path for',
    },
};
/**
 * reset directory to default directory (contracts/, build/, etc.)
 * @param args
 * args:
 * args.dirname
 * @returns
 */
exports.handler = (args) => {
    web3_suites_1.SimbaConfig.log.debug(`:: ENTER : ${JSON.stringify(args)}`);
    let dirName = args.dirname;
    if (!dirName) {
        web3_suites_1.SimbaConfig.log.error(`${chalk_1.default.redBright(`\nsimba: dirname must be specified.`)}`);
        web3_suites_1.SimbaConfig.log.debug(`:: EXIT :`);
        return;
    }
    resetDir(dirName);
    web3_suites_1.SimbaConfig.log.debug(`:: EXIT :`);
    return;
};
/**
 * reset directory to default directory (contracts/, build/, etc.)
 * @param dirName
 * @returns
 */
function resetDir(dirName) {
    web3_suites_1.SimbaConfig.log.debug(`:: ENTER : ${dirName}`);
    if (dirName === "contracts" || dirName === "contract") {
        dirName = web3_suites_1.AllDirs.CONTRACTDIRECTORY;
    }
    if (dirName === "build") {
        dirName = web3_suites_1.AllDirs.BUILDDIRECTORY;
    }
    if (dirName.toLowerCase() === "all") {
        for (const value in web3_suites_1.AllDirs) {
            web3_suites_1.SimbaConfig.setDirectory(web3_suites_1.AllDirs[value], "reset");
        }
        web3_suites_1.SimbaConfig.log.debug(`:: EXIT :`);
        return;
    }
    web3_suites_1.SimbaConfig.setDirectory(dirName, "reset");
    web3_suites_1.SimbaConfig.log.debug(`:: EXIT :`);
    return;
}
exports.resetDir = resetDir;
//# sourceMappingURL=resetdir.js.map